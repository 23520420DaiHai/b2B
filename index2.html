<!doctype html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Diagram – Logistics Lazada (Pastel Pink)</title>
    <style>
      :root {
        --bg: #fff7fb;         /* pastel background */
        --surface: #ffffff;    /* white card */
        --surface-2: #fff1f7;  /* very light pink */
        --ink: #334155;        /* slate-700 */
        --muted: #6b7280;      /* gray-500 */
        --brand: #ec4899;      /* pink-500 */
        --brand-2: #fbcfe8;    /* pink-200 */
        --ok: #10b981;         /* green */
        --shadow: 0 10px 24px rgba(0,0,0,.10);
        --radius: 16px;
      }

      * { box-sizing: border-box; }

      html, body { height: 100%; }

      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
        color: var(--ink);
        background:
          radial-gradient(1000px 600px at 10% 0%, #ffe5f3, transparent 60%),
          radial-gradient(800px 500px at 90% 0%, #ffe9f5, transparent 60%),
          linear-gradient(180deg, var(--bg), #ffffff 60%);
      }

      .container { max-width: 1200px; margin: 0 auto; padding: 20px 12px 32px; }

      header {
        text-align: center;
        margin-bottom: 20px;
      }

      .title {
        margin: 0 0 4px;
        font-size: clamp(22px, 3.2vw, 36px);
        font-weight: 800;
        letter-spacing: .2px;
        background: linear-gradient(90deg, #f472b6 0%, var(--brand) 45%, var(--brand-2) 100%);
        -webkit-background-clip: text; background-clip: text; color: transparent;
      }

      .subtitle { margin: 0; color: var(--muted); font-size: 14px; }

      /* Diagram canvas */
      .canvas {
        position: relative;
        width: 100%;
        aspect-ratio: 3 / 2; /* 1200 x 800 */
        background: linear-gradient(180deg, var(--surface), var(--surface-2));
        border: 1px solid rgba(0,0,0,.06);
        border-radius: 18px;
        box-shadow: var(--shadow);
        overflow: hidden;
      }
      .wires { position: absolute; inset: 0; pointer-events: none; }

      .node {
        position: absolute;
        transform: translate(-50%, -50%);
        min-width: 170px;
        max-width: 230px;
        background: #fff;
        border: 1px solid rgba(0,0,0,.06);
        border-radius: 14px;
        padding: 10px 10px 8px;
        text-align: left;
        box-shadow: 0 8px 18px rgba(236,72,153,.08);
      }
      .node.small { min-width: 150px; max-width: 200px; }
      .node.wide { min-width: 260px; max-width: 300px; }

      .node .head { display: flex; align-items: center; gap: 8px; margin-bottom: 6px; }
      .node .icon {
        width: 26px; height: 26px; border-radius: 8px;
        background: rgba(236,72,153,.12);
        border: 1px solid rgba(236,72,153,.22);
        display: grid; place-items: center; color: var(--brand);
      }
      .node .title { margin: 0; font-size: 13px; font-weight: 800; color: var(--brand); }
      .node ul { margin: 6px 0 0; padding-left: 0; list-style: none; }
      .node li { position: relative; padding-left: 14px; margin: 4px 0; font-size: 12px; color: var(--ink); }
      .node li::before { content: ""; position: absolute; left: 0; top: .8em; width: 6px; height: 6px; border-radius: 50%; background: var(--brand); opacity: .8; transform: translateY(-50%); }

      /* badges inside nodes */
      .badge { display: inline-block; font-size: 10px; padding: 2px 6px; border-radius: 999px; background: rgba(236,72,153,.10); border: 1px solid rgba(236,72,153,.22); color: var(--brand); }

      /* legend row */
      .legend { position: absolute; left: 50%; bottom: 8px; transform: translateX(-50%); color: var(--muted); font-size: 11px; }

      @media (max-width: 820px) {
        .node { min-width: 150px; }
      }
      .nav-next { position: fixed; right: 16px; bottom: 16px; z-index: 1000; }
      .nav-next a {
        display: inline-flex; align-items: center; gap: 8px;
        text-decoration: none; font-weight: 700; font-size: 13px;
        color: #ec4899; background: rgba(236,72,153,.10);
        border: 1px solid rgba(236,72,153,.28); border-radius: 999px;
        padding: 10px 14px; box-shadow: 0 8px 16px rgba(0,0,0,.08);
        transition: transform .15s ease, box-shadow .15s ease;
      }
      .nav-next a:hover { transform: translateY(-1px); box-shadow: 0 10px 20px rgba(0,0,0,.10); }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1 class="title">Mô hình Logistics tích hợp của Lazada</h1>
        <p class="subtitle">Sơ đồ khối – Fulfillment → Transportation → Last Mile, cấu phần & công nghệ</p>
      </header>

      <div class="canvas" id="canvas">
        <svg class="wires" id="wires" viewBox="0 0 1200 800" preserveAspectRatio="none" aria-hidden="true"></svg>

        <!-- Row 1: Overview flow -->
        <div class="node small" id="n_fulfill" style="left: 18%; top: 18%;">
          <div class="head">
            <div class="icon">
              <!-- warehouse icon -->
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-6 9 6"/><path d="M4 10h16v10H4z"/><path d="M8 21V14h8v7"/></svg>
            </div>
            <p class="title">Fulfillment</p>
          </div>
          <ul>
            <li>Nhận & lưu trữ</li>
            <li>Đóng gói</li>
          </ul>
        </div>

        <div class="node small" id="n_transport" style="left: 50%; top: 18%;">
          <div class="head">
            <div class="icon">
              <!-- truck icon -->
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 7h12v8H3z"/><path d="M15 10h4l2 3v2h-6z"/><circle cx="7.5" cy="17.5" r="2"/><circle cx="17.5" cy="17.5" r="2"/></svg>
            </div>
            <p class="title">Transportation</p>
          </div>
          <ul>
            <li>Liên tỉnh</li>
            <li>Hub trung chuyển</li>
          </ul>
        </div>

        <div class="node small" id="n_lastmile" style="left: 82%; top: 18%;">
          <div class="head">
            <div class="icon">
              <!-- rider icon -->
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="4" r="2"/><path d="M5 22l2-6 3-2 2 3 4 5"/><path d="M14 12l5-2 2 4"/></svg>
            </div>
            <p class="title">Last Mile</p>
          </div>
          <ul>
            <li>Giao đô thị</li>
            <li>Đối tác vùng xa</li>
          </ul>
        </div>

        <!-- Row 2: a/b/c structure -->
        <div class="node" id="n_fbl" style="left: 18%; top: 45%;">
          <div class="head">
            <div class="icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-6 9 6"/><path d="M4 10h16v10H4z"/></svg>
            </div>
            <p class="title">a) Fulfillment Center (FBL)</p>
          </div>
          <ul>
            <li>Lưu kho</li>
            <li>Đóng gói</li>
            <li>Bàn giao nội bộ</li>
          </ul>
        </div>

        <div class="node wide" id="n_lel" style="left: 50%; top: 45%;">
          <div class="head">
            <div class="icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="7" width="13" height="8"/><path d="M16 10h4l2 3v2h-6z"/></svg>
            </div>
            <p class="title">b) LEL Express (Nội bộ)</p>
          </div>
          <ul>
            <li>Hubs trung chuyển</li>
            <li>Sorting AI & robot</li>
            <li>Riders toàn quốc</li>
          </ul>
        </div>

        <div class="node" id="n_lastmile_detail" style="left: 82%; top: 45%;">
          <div class="head">
            <div class="icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 13h10l4 4"/><path d="M6 17h9"/></svg>
            </div>
            <p class="title">c) Last-mile delivery</p>
          </div>
          <ul>
            <li>LEL đô thị</li>
            <li>Đối tác: Viettel Post, GHN, J&amp;T…</li>
            <li>Route optimization</li>
          </ul>
        </div>

        <!-- Row 3: Technology -->
        <div class="node small" id="n_seller" style="left: 20%; top: 68%;">
          <div class="head"><div class="icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="12" rx="2"/><path d="M8 20h8"/></svg></div><p class="title">Seller Center</p></div>
          <ul><li>Tồn kho & đơn</li></ul>
        </div>
        <div class="node small" id="n_platform" style="left: 38%; top: 68%;">
          <div class="head"><div class="icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12h18"/><path d="M12 3v18"/></svg></div><p class="title">Logistics Platform</p></div>
          <ul><li>Tự động hoá</li></ul>
        </div>
        <div class="node small" id="n_ai" style="left: 62%; top: 68%;">
          <div class="head"><div class="icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v4M12 18v4M2 12h4M18 12h4M4.9 4.9l2.8 2.8M16.3 16.3l2.8 2.8M19.1 4.9l-2.8 2.8M7.7 16.3l-2.8 2.8"/></svg></div><p class="title">AI & Big Data</p></div>
          <ul><li>Dự đoán & tối ưu</li></ul>
        </div>
        <div class="node small" id="n_track" style="left: 80%; top: 68%;">
          <div class="head"><div class="icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12l5 5 13-13"/></svg></div><p class="title">Tracking realtime</p></div>
          <ul><li>Trạng thái đơn</li></ul>
        </div>

        <!-- Row 4: Models & Advantages -->
        <div class="node" id="n_model_fbl" style="left: 30%; top: 86%;">
          <div class="head"><div class="icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-6 9 6"/><path d="M4 10h16v10H4z"/></svg></div><p class="title">FBL</p></div>
          <ul><li>Giao nhanh</li><li>Rủi ro thấp</li><li>Tin cậy</li></ul>
        </div>
        <div class="node" id="n_model_drop" style="left: 55%; top: 86%;">
          <div class="head"><div class="icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="7" width="13" height="8"/><path d="M16 10h4l2 3v2h-6z"/></svg></div><p class="title">Non‑FBL/Dropship</p></div>
          <ul><li>Linh hoạt</li><li>Chi phí kho thấp</li><li>Hợp shop nhỏ</li></ul>
        </div>
        <div class="legend">
          <span class="badge" style="border-color: rgba(236,72,153,.35); color:#ec4899; background: rgba(236,72,153,.08);">● Overview</span>
          <span class="badge" style="border-color: rgba(56,189,248,.35); color:#38bdf8; background: rgba(56,189,248,.10);">● Structure</span>
          <span class="badge" style="border-color: rgba(167,139,250,.35); color:#a78bfa; background: rgba(167,139,250,.10);">● Tech</span>
          <span class="badge" style="border-color: rgba(16,185,129,.35); color:#10b981; background: rgba(16,185,129,.10);">● Models</span>
        </div>
      </div>
    </div>
    <div class="nav-next">
      <a href="index.html" title="Quay lại: index">
        <span>Trang tiếp</span>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M5 12h14"/><path d="M12 5l7 7-7 7"/></svg>
      </a>
    </div>
    <script>
      // Draw connectors between nodes (color-coded by group)
      const edges = [
        {from:'n_fulfill', to:'n_transport', group:'overview'},
        {from:'n_transport', to:'n_lastmile', group:'overview'},
        {from:'n_fulfill', to:'n_fbl', group:'structure'},
        {from:'n_transport', to:'n_lel', group:'structure'},
        {from:'n_lastmile', to:'n_lastmile_detail', group:'structure'},
        {from:'n_lel', to:'n_model_fbl', group:'models'},
        {from:'n_lel', to:'n_model_drop', group:'models'},
        {from:'n_seller', to:'n_platform', group:'tech'},
        {from:'n_platform', to:'n_ai', group:'tech'},
        {from:'n_ai', to:'n_track', group:'tech'}
      ];

      const groupToColor = {
        overview: '#ec4899', // pink
        structure: '#38bdf8', // sky
        tech: '#a78bfa',      // violet
        models: '#10b981'     // green
      };

      function draw() {
        const svg = document.getElementById('wires');
        const wrap = document.getElementById('canvas');
        if (!svg || !wrap) return;
        while (svg.firstChild) svg.removeChild(svg.firstChild);

        // marker arrowheads per group color
        const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
        Object.entries(groupToColor).forEach(([key, color]) => {
          const marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
          marker.setAttribute('id', `arrow-${key}`);
          marker.setAttribute('viewBox','0 0 10 10');
          marker.setAttribute('refX','7');
          marker.setAttribute('refY','5');
          marker.setAttribute('markerWidth','7');
          marker.setAttribute('markerHeight','7');
          marker.setAttribute('orient','auto-start-reverse');
          const arrowPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
          arrowPath.setAttribute('d','M 0 0 L 10 5 L 0 10 z');
          arrowPath.setAttribute('fill', color);
          marker.appendChild(arrowPath);
          defs.appendChild(marker);
        });
        svg.appendChild(defs);

        const wrapRect = wrap.getBoundingClientRect();

        function center(el) {
          const r = el.getBoundingClientRect();
          return {
            x: (r.left + r.width/2 - wrapRect.left) / wrapRect.width * 1200,
            y: (r.top + r.height/2 - wrapRect.top) / wrapRect.height * 800
          };
        }

        function pathBetween(a, b, color, groupKey) {
          const dx = (b.x - a.x) * 0.35;
          const d = `M ${a.x} ${a.y} C ${a.x+dx} ${a.y}, ${b.x-dx} ${b.y}, ${b.x} ${b.y}`;
          const p = document.createElementNS('http://www.w3.org/2000/svg','path');
          p.setAttribute('d', d);
          p.setAttribute('fill','none');
          p.setAttribute('stroke', color);
          p.setAttribute('stroke-width','2');
          p.setAttribute('stroke-linecap','round');
          p.setAttribute('marker-end',`url(#arrow-${groupKey})`);
          p.setAttribute('opacity','0.9');
          return p;
        }

        edges.forEach((e) => {
          const a = document.getElementById(e.from);
          const b = document.getElementById(e.to);
          if (!a || !b) return;
          const color = groupToColor[e.group] || '#ec4899';
          svg.appendChild(pathBetween(center(a), center(b), color, e.group));
        });
      }

      const ro = new ResizeObserver(() => draw());
      ro.observe(document.documentElement);
      window.addEventListener('load', draw);
      setTimeout(draw, 80);
    </script>
  </body>
  </html>


